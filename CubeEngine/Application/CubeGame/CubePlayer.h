#ifndef TZW_PLAYER_H
#define TZW_PLAYER_H

#include "Game/FPSCamera.h"
#include "EngineSrc/3D/Model/Model.h"
#include "3D/Primitive/SpherePrimitive.h"
#include "Block.h"
namespace tzw {

class CubePlayer : public Node, public EventListener
{
public:
	enum class Mode
	{
		MODE_DEFORM_SPHERE,
		MODE_PLACE_CUBE,
		MODE_PLACE_SPHERE,
	};
    CubePlayer(Node * mainRoot);
    FPSCamera *camera() const;
    void setCamera(FPSCamera *camera);
    vec3 getPos();
	void logicUpdate(float dt) override;
	bool checkIsNeedUpdateChunk();
	bool onKeyPress(int keyCode) override;
	bool onKeyRelease(int keyCode) override;
	bool onMousePress(int button,vec2 pos) override;
	void modeSwitch(Mode newMode);
private:
	Mode m_currMode;
    FPSCamera * m_camera;
    Model * m_gunModel;
	int oldPosX;
	int oldPosZ;
	bool m_enableGravity;
};

} // namespace tzw

#endif // TZW_PLAYER_H
